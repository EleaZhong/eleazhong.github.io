<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>hacker on Waterbuffalo Posts</title>
    <link>/tags/hacker/</link>
    <description>Recent content in hacker on Waterbuffalo Posts</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 30 Mar 2015 08:54:56 +0800</lastBuildDate>
    
        <atom:link href="/tags/hacker/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Choose Boring Technology</title>
      <link>/news/hackernews1/</link>
      <pubDate>Mon, 30 Mar 2015 08:54:56 +0800</pubDate>
      
      <guid>/news/hackernews1/</guid>
      <description>Probably the single best thing to happen to me in my career was having had Kellan placed in charge of me. I stuck around long enough to see Kellan’s technical decisionmaking start to bear fruit. I learned a great deal from this, but I also learned a great deal as a result of this. I would not have been free to become the engineer that wrote Data Driven Products Now! if Kellan had not been there to so thoroughly stick the landing on technology choices.</description>
      
      <content:encoded><![CDATA[<p>Probably the single best thing to happen to me in my career was having had <a href="http://laughingmeme.org/"target="_blank">Kellan</a> placed in charge of me. I stuck around long enough to see Kellan’s technical decisionmaking start to bear fruit. I learned a great deal <em>from</em> this, but I also learned a great deal as a <em>result</em> of this. I would not have been free to become the engineer that wrote <a href="https://mcfunley.com/data-driven-products-lean-startup-2014"target="_blank">Data Driven Products Now!</a> if Kellan had not been there to so thoroughly stick the landing on technology choices.</p>
<p><img  src="http://i.imgur.com/FRQKLCy.jpg"
        alt/></p>
<p>Being inspirational as always.</p>
<p>In the year since leaving Etsy, I’ve resurrected my ability to care about technology. And my thoughts have crystallized to the point where I can write them down coherently. What follows is a distillation of the Kellan gestalt, which will hopefully serve to horrify him only slightly.</p>
<h5 id="embrace-boredom">Embrace Boredom.</h5>
<p>Let’s say every company gets about three innovation tokens. You can spend these however you want, but the supply is fixed for a long while. You might get a few more <em>after</em> you achieve a <a href="http://rc3.org/2015/03/24/the-pleasure-of-building-big-things/"target="_blank">certain level of stability and maturity</a>, but the general tendency is to overestimate the contents of your wallet. Clearly this model is approximate, but I think it helps.</p>
<p>If you choose to write your website in NodeJS, you just spent one of your innovation tokens. If you choose to use <a href="https://mcfunley.com/why-mongodb-never-worked-out-at-etsy"target="_blank">MongoDB</a>, you just spent one of your innovation tokens. If you choose to use <a href="https://consul.io/"target="_blank">service discovery tech that’s existed for a year or less</a>, you just spent one of your innovation tokens. If you choose to write your own database, oh god, you’re in trouble.</p>
<p>Any of those choices might be sensible if you’re a javascript consultancy, or a database company. But you’re probably not. You’re probably working for a company that is at least ostensibly <a href="https://www.etsy.com/"target="_blank">rethinking global commerce</a> or <a href="https://stripe.com/"target="_blank">reinventing payments on the web</a> or pursuing some other suitably epic mission. In that context, devoting any of your limited attention to innovating ssh is an excellent way to fail. Or at best, delay success <a href="https://mcfunley.com/choose-boring-technology#f1"target="_blank">[1]</a>.</p>
<p>What counts as boring? That’s a little tricky. “Boring” should not be conflated with “bad.” There is technology out there that is both boring and bad <a href="https://mcfunley.com/choose-boring-technology#f2"target="_blank">[2]</a>. You should not use any of that. But there are many choices of technology that are boring and good, or at least good enough. MySQL is boring. Postgres is boring. PHP is boring. Python is boring. Memcached is boring. Squid is boring. Cron is boring.</p>
<p>The nice thing about boringness (so constrained) is that the capabilities of these things are well understood. But more importantly, their failure modes are well understood. Anyone who knows me well will understand that it’s only with a overwhelming sense of malaise that I now invoke the spectre of Don Rumsfeld, but I must.</p>
<p><img  src="http://i.imgur.com/n8ElWr3.jpg"
        alt/></p>
<p>To be clear, fuck this guy.</p>
<p>When choosing technology, you have both known unknowns and unknown unknowns <a href="https://mcfunley.com/choose-boring-technology#f3"target="_blank">[3]</a>.</p>
<ul>
<li>A known unknown is something like: <em>we don’t know what happens when this database hits 100% CPU.</em></li>
<li>An unknown unknown is something like: <em>geez it didn’t even occur to us that <a href="http://www.evanjones.ca/jvm-mmap-pause.html"target="_blank">writing stats would cause GC pauses</a>.</em></li>
</ul>
<p>Both sets are typically non-empty, even for tech that’s existed for decades. But for shiny new technology the magnitude of unknown unknowns is significantly larger, and this is important.</p>
<h5 id="optimize-globally">Optimize Globally.</h5>
<p>I unapologetically think a bias in favor of boring technology is a good thing, but it’s not the only factor that needs to be considered. Technology choices don’t happen in isolation. They have a scope that touches your entire team, organization, and the system that emerges from the sum total of your choices.</p>
<p>Adding technology to your company comes with a cost. As an abstract statement this is obvious: if we’re already using Ruby, adding Python to the mix doesn’t feel sensible because the resulting complexity would outweigh Python’s marginal utility. But somehow when we’re talking about Python and Scala or MySQL and Redis people <a href="http://martinfowler.com/bliki/PolyglotPersistence.html"target="_blank">lose their minds</a>, discard all constraints, and start raving about using the best tool for the job.</p>
<p><a href="https://twitter.com/coda/status/580531932393504768"target="_blank">Your function in a nutshell</a> is to map business problems onto a solution space that involves choices of software. If the choices of software were truly without baggage, you could indeed pick a whole mess of locally-the-best tools for your assortment of problems.</p>
<p>ProblemsTechnical SolutionsThe way you might choose technology in a world where choices are cheap: &ldquo;pick the right tool for the job.&rdquo;</p>
<p>But of course, the baggage exists. We call the baggage “operations” and to a lesser extent “cognitive overhead.” You have to monitor the thing. You have to figure out unit tests. You need to know the first thing about it to hack on it. You need an init script. I could go on for days here, and all of this adds up fast.</p>
<p>ProblemsTechnical SolutionsThe way you choose technology in the world where operations are a serious concern (i.e., &ldquo;reality&rdquo;).</p>
<p>The problem with “best tool for the job” thinking is that it takes a myopic view of the words “best” and “job.” Your job is keeping the company in business, god damn it. And the “best” tool is the one that occupies the “least worst” position for as many of your problems as possible.</p>
<p>It is basically always the case that the long-term costs of keeping a system working reliably vastly exceed any inconveniences you encounter while building it. Mature and productive developers understand this.</p>
<h5 id="choose-new-technology-sometimes">Choose New Technology, Sometimes.</h5>
<p>Taking this reasoning to its <em>reductio ad absurdum</em> would mean picking Java, and then trying to implement a website without using anything else at all. And that would be crazy. You need some means to add things to your toolbox.</p>
<p>An important first step is to acknowledge that this is a process, and a conversation. New tech eventually has company-wide effects, so adding tech is a decision that requires company-wide visibility. Your organizational specifics may force the conversation, or <a href="https://twitter.com/mcfunley/status/578603932949164032"target="_blank">they may facilitate developers adding new databases and queues without talking to anyone</a>. One way or another you have to set cultural expectations that <strong>this is something we all talk about</strong>.</p>
<p>One of the most worthwhile exercises I recommend here is to <strong>consider how you would solve your immediate problem without adding anything new</strong>. First, posing this question should detect the situation where the “problem” is that someone really wants to use the technology. If that is the case, you should immediately abort.</p>
<p><img  src="http://i.imgur.com/rmdSx.gif"
        alt/></p>
<p>I just watched a webinar about this graph database, we should try it out.</p>
<p>It can be amazing how far a small set of technology choices can go. The answer to this question in practice is almost never “we can’t do it,” it’s usually just somewhere on the spectrum of “well, we could do it, but it would be too hard” <a href="https://mcfunley.com/choose-boring-technology#f4"target="_blank">[4]</a>. If you think you can’t accomplish your goals with what you’ve got now, you are probably just not thinking creatively enough.</p>
<p>It’s helpful to <strong>write down exactly what it is about the current stack that makes solving the problem prohibitively expensive and difficult.</strong> This is related to the previous exercise, but it’s subtly different.</p>
<p>New technology choices might be purely additive (for example: “we don’t have caching yet, so let’s add memcached”). But they might also overlap or replace things you are already using. If that’s the case, you should <strong>set clear expectations about migrating old functionality to the new system.</strong> The policy should typically be “we’re committed to migrating,” with a proposed timeline. The intention of this step is to keep wreckage at manageable levels, and to avoid proliferating locally-optimal solutions.</p>
<p>This process is not daunting, and it’s not much of a hassle. It’s a handful of questions to fill out as homework, followed by a meeting to talk about it. I think that if a new technology (or a new service to be created on your infrastructure) can pass through this gauntlet unscathed, adding it is fine.</p>
<h5 id="just-ship">Just Ship.</h5>
<p>Polyglot programming is sold with the promise that letting developers choose their own tools with complete freedom will make them more effective at solving problems. This is a naive definition of the problems at best, and motivated reasoning at worst. The weight of day-to-day operational <a href="https://twitter.com/handler"target="_blank">toil</a> this creates crushes you to death.</p>
<p>Mindful choice of technology gives engineering minds real freedom: the freedom to <a href="https://mcfunley.com/effective-web-experimentation-as-a-homo-narrans"target="_blank">contemplate bigger questions</a>. Technology for its own sake is snake oil.</p>
<p><em>Update, July 27th 2015: I wrote a talk based on this article. You can see it <a href="http://boringtechnology.club/"target="_blank">here</a>.</em></p>
<hr>
<ol>
<li>Etsy in its early years suffered from this pretty badly. We hired a bunch of Python programmers and decided that we needed to find something for them to do in Python, and the only thing that came to mind was creating a pointless middle layer that <a href="https://www.youtube.com/watch?v=eenrfm50mXw"target="_blank">required years of effort to amputate</a>. Meanwhile, the 90th percentile search latency was about two minutes. <a href="http://www.sec.gov/Archives/edgar/data/1370637/000119312515077045/d806992ds1.htm"target="_blank">Etsy didn&rsquo;t fail</a>, but it went several years without shipping anything at all. So it took longer to succeed than it needed to.</li>
<li>We often casually refer to the boring/bad intersection of doom as “enterprise software,” but that terminology may be imprecise.</li>
<li>In saying this Rumsfeld was either intentionally or unintentionally alluding to <a href="http://en.wikipedia.org/wiki/I_know_that_I_know_nothing"target="_blank">the Socratic Paradox</a>. Socrates was by all accounts a thoughtful individual in a number of ways that Rumsfeld is not.</li>
<li>A good example of this from my experience is <a href="https://speakerdeck.com/mcfunley/etsy-activity-feed-architecture"target="_blank">Etsy’s activity feeds</a>. When we built this feature, we were working pretty hard to consolidate most of Etsy onto PHP, MySQL, Memcached, and Gearman (a PHP job server). It was much more complicated to implement the feature on that stack than it might have been with something like Redis (or <a href="https://aphyr.com/posts/283-call-me-maybe-redis"target="_blank">maybe not</a>). But it is absolutely possible to build activity feeds on that stack.</li>
</ol>
<p>An amazing thing happened with that project: our attention turned elsewhere for several years. During that time, activity feeds scaled up 20x while <em>nobody was watching it at all.</em> We made no changes whatsoever specifically targeted at activity feeds, but everything worked out fine as usage exploded because we were using a shared platform. This is the long-term benefit of restraint in technology choices in a nutshell.</p>
<p>This isn’t an absolutist position&ndash;while activity feeds stored in memcached was judged to be practical, implementing full text search with faceting in raw PHP wasn&rsquo;t. So Etsy used Solr.</p>
]]></content:encoded>
      
    </item>
    
  </channel>
</rss>
